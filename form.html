<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-storage.js"></script>
    <link rel="stylesheet" href="/styling.css">
    <title>Prueba Firestore</title>
</head>
<body>
    
    <progress  value="0" max="100" id="uploading">0%</progress>
    <input type="file" value="upload" id="input"/>





    <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyA0jaNnWsvwgl9p1ECtt-O6o-bAM1hr6KA",
        authDomain: "prueba2-b706e.firebaseapp.com",
        projectId: "prueba2-b706e",
        storageBucket: "prueba2-b706e.appspot.com",
        messagingSenderId: "428525679037",
        appId: "1:428525679037:web:b2c3ffeb9cfb74728522d4"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // Obtener elementos del DOM
    const barra =document.getElementById('uploading');
    const selectedFile = document.getElementById('input');
    
    selectedFile.addEventListener('change',function(e){
        const file = e.target.files[0];
    })

    // Crear referencia
    const storageRef = firebase.storage().ref('mixes/'+ file.name);
    // subir
    const task = storageRef.put(file);
    task.on('state_changed',
        function progress(snapshot){
            var progreso=(snapshot.bytesTransferred / snapshot.totalBytes)*100;
            uploading.value = progreso;
        },
        function errors(err){

        },
        function finish(){

        }
    )
    </script>
</body>
</html>